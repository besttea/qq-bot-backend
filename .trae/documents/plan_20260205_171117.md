I will refine the `项目方案.md` file to transform it from a high-level overview into a concrete technical design document.

The refined plan will include:

1.  **Enhanced Architecture**:
    *   Add a **Mermaid sequence diagram** illustrating the core flow: User -> QQ Bot -> Gateway -> Service -> AI Worker.
    *   Detail the communication protocols (HTTP/gRPC) between services.

2.  **Detailed Database Schema**:
    *   Expand the "Database Selection" section to include **ER definitions** for key tables (`users`, `homeworks`, `submissions`, `grades`).
    *   Define relationships (One-to-Many, Many-to-Many) explicitly.

3.  **Concrete API Definitions**:
    *   Add a section listing key **RESTful endpoints** (e.g., `POST /auth/login`, `GET /homeworks`, `POST /submissions`).
    *   Define request/response structures for critical APIs.

4.  **Project Structure & Technology**:
    *   Define a **Monorepo structure** (using Turborepo or NestJS CLI workspaces) to manage `gateway`, `backend`, and `ai-worker`.
    *   Specify libraries: `Prisma` or `TypeORM` for ORM, `BullMQ` for queues, `Passport` for auth.

5.  **Actionable Roadmap**:
    *   Break down "Phase 1: MVP" into granular tasks (e.g., "Initialize Repo", "Setup Docker Compose", "Implement Auth Guard").
