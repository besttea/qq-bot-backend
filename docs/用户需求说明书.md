# 用户需求说明书 (User Requirements Specification)

**版本**: 1.0
**日期**: 2026-02-06

---

## 1. 引言

### 1.1 编写目的
本文档旨在明确“教学作业管理平台”的用户需求，界定系统功能范围，为开发人员、测试人员及项目相关人员提供统一的参考依据。

### 1.2 产品背景
本项目旨在构建一个基于 QQ 官方机器人入口的轻量级 AI 教学管理平台。通过整合 QQ 社交生态与 AI 评分能力，解决传统作业管理中“收发繁琐、批改耗时、反馈滞后”的痛点，初期服务于 100-300 人规模的教学场景。

---

## 2. 用户角色定义

系统包含三种主要角色：

| 角色 | 描述 | 关键职责 |
| :--- | :--- | :--- |
| **学生 (Student)** | 参与课程学习的终端用户 | 绑定身份、接收作业通知、提交作业（文本/文件）、查看 AI 评分与教师反馈 |
| **教师 (Teacher)** | 课程管理者与评价者 | 创建班级、发布/管理作业、查看提交情况、人工复核/修改成绩、导出报表 |
| **管理员 (Admin)** | 系统运维人员 | 用户权限管理、系统配置、审计日志查看、异常处理 |

---

## 3. 用户故事 (User Stories)

### 3.1 学生视角
*   作为学生，我希望通过 QQ 机器人直接绑定我的真实姓名和学号，以便快速进入班级。
*   作为学生，我希望能收到新作业的实时推送通知，以免错过截止日期。
*   作为学生，我希望通过 QQ 直接发送文件或文本完成作业提交，无需下载额外的 App。
*   作为学生，我希望在提交后几分钟内收到 AI 的初步评分和改进建议，以便我即时了解作业质量。
*   作为学生，我希望能够查看我的历史作业成绩单，了解我的学习进步曲线。

### 3.2 教师视角
*   作为教师，我希望能在 Web 后台一键发布作业，并支持上传附件（如 PDF 讲义）。
*   作为教师，我希望系统自动统计已提交/未提交名单，并能一键提醒未提交学生。
*   作为教师，我希望 AI 能帮我完成 80% 的基础评分工作，我只需关注有争议或低分的作业。
*   作为教师，我希望能够手动修改 AI 的评分，并写下具体的评语。
*   作为教师，我希望能将全班成绩导出为 Excel 表格，方便期末归档。

---

## 4. 功能需求 (Functional Requirements)

### 4.1 认证与用户管理
*   **FR-01 QQ 身份绑定**: 支持通过 QQ OAuth 或机器人指令绑定 QQ OpenID 与真实身份。
*   **FR-02 班级管理**: 支持教师创建班级生成邀请码，学生输入邀请码加入班级。
*   **FR-03 角色权限**: 严格隔离学生与教师权限，学生仅能查看自己的数据。

### 4.2 作业管理
*   **FR-04 作业发布**: 支持设置标题、描述、截止时间、附件链接、允许提交格式（文本/文件）。
*   **FR-05 作业状态流转**: 支持草稿 (Draft)、已发布 (Published)、已截止 (Closed) 状态切换。
*   **FR-06 截止控制**: 超过截止时间后，系统应拒绝提交或标记为“迟交”。

### 4.3 提交与评分
*   **FR-07 多格式提交**: 支持纯文本提交和文件（图片/文档）上传提交。
*   **FR-08 AI 自动评分**: 提交后自动触发 AI 评分任务，生成分数、置信度及评语。
*   **FR-09 人工复核**: 教师可覆盖 AI 的评分结果，系统需记录“人工修改”标记。
*   **FR-10 历史版本**: 支持多次提交，系统保留历史版本，默认以最后一次提交为准。

### 4.4 通知与反馈
*   **FR-11 实时通知**: 通过 QQ 机器人推送作业发布、截止提醒、评分完成通知。
*   **FR-12 成绩单推送**: 评分完成后，私聊推送成绩单给学生。

### 4.5 数据统计
*   **FR-13 概览报表**: 展示作业提交率、平均分、最高/最低分。
*   **FR-14 数据导出**: 支持导出 CSV/Excel 格式的班级成绩单。

---

## 5. 非功能需求 (Non-functional Requirements)

*   **NFR-01 性能**: API 响应时间 < 200ms；AI 评分任务处理延迟 < 5分钟。
*   **NFR-02 可靠性**: 系统可用性 > 99.9%；核心数据（作业/成绩）零丢失。
*   **NFR-03 安全性**: 所有接口需鉴权；学生敏感数据加密存储；数据库每日自动备份。
*   **NFR-04 兼容性**: 兼容 PC 端与移动端 Web 后台；适配 QQ 官方机器人协议。
*   **NFR-05 可扩展性**: 架构需支持未来横向扩展 AI Worker 节点以应对高并发评分。
